<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
        
<mapper namespace="com.gooddog.mapper.PlaceMapper">

	<!-- 장소 목록 조회 -->
	<select id="placeList" parameterType="hashmap" resultType="hashmap">

		SELECT * FROM place
		<if test="keyword != null">
			WHERE place_group = #{keyword}
		</if>
		
		ORDER BY place_no
		LIMIT #{pageStart}, #{perPageNum}

	</select>
	
	<!-- 장소 목록 개수 조회 -->
	<select id="placeCount" resultType="int">
        SELECT count(*)
        FROM place
	</select>
	
	<!-- 장소 상세 정보 조회 -->
	<select id="placeView" parameterType="PlaceVO" resultType="PlaceVO">
		<![CDATA[
		SELECT * FROM place WHERE place_no=#{place_no}
		]]>
	</select>
	
	
	<!-- 리뷰 조회 -->
	<select id="reviewList" parameterType="PlaceVO" resultType="PlacereVO">
		<![CDATA[
		SELECT pre_date, pre_content, pre_value
		FROM placere Where place_no=#{place_no};
		]]>
	</select>
	
	<!-- 리뷰 개수 조회 -->
	<select id="reviewCount" parameterType="PlaceVO" resultType="int">
		<![CDATA[
		SELECT count(*) 
		FROM placere 
		WHERE place_no=#{place_no}
		]]>
	</select>
	
	
	

	
</mapper>   